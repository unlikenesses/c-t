(function(e){function t(t){for(var r,s,o=t[0],l=t[1],c=t[2],d=0,v=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&v.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/c-t/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{link:"",to:"/"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-calendar")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Calendar")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/tasks"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-pencil")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Tasks")])],1)],1)],1)],1),a("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",[e._v("Daily Devoirs")]),a("v-spacer"),e.loggedIn?a("div",[a("span",[e._v(e._s(e.loggedInUser))]),a("v-btn",{staticClass:"ml-4",on:{click:e.logout}},[e._v("Logout")])],1):e._e()],1),a("v-main",[a("router-view")],1),a("v-footer",{attrs:{color:"indigo",app:""}},[a("span",{staticClass:"white--text"},[e._v("Â© "+e._s((new Date).getFullYear()))])])],1)],1)},i=[],s=a("260b"),o=(a("ea7b"),{data:function(){return{drawer:null,loggedIn:!1,loggedInUser:""}},mounted:function(){var e=this;s["a"].auth().onAuthStateChanged((function(t){t?(e.loggedIn=!0,e.loggedInUser=t.email):(e.loggedIn=!1,e.loggedInUser="")}))},methods:{logout:function(){s["a"].auth().signOut(),window.location.reload()}}}),l=o,c=(a("5c0b"),a("2877")),u=a("6544"),d=a.n(u),v=a("7496"),p=a("40dc"),f=a("5bc1"),m=a("8336"),h=a("553a"),g=a("132d"),k=a("8860"),b=a("da13"),w=a("1800"),V=a("5d23"),y=a("f6c4"),x=a("f774"),_=a("2fa4"),C=a("2a7f"),I=Object(c["a"])(l,n,i,!1,null,null,null),T=I.exports;d()(I,{VApp:v["a"],VAppBar:p["a"],VAppBarNavIcon:f["a"],VBtn:m["a"],VFooter:h["a"],VIcon:g["a"],VList:k["a"],VListItem:b["a"],VListItemAction:w["a"],VListItemContent:V["a"],VListItemTitle:V["b"],VMain:y["a"],VNavigationDrawer:x["a"],VSpacer:_["a"],VToolbarTitle:C["a"]});var S=a("f309");r["a"].use(S["a"]);var O=new S["a"]({}),E=a("1da1"),F=(a("96cf"),a("8c4f")),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5"},[a("v-sheet",[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-2",attrs:{outlined:"",fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-left ")])],1),a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")])],1),e.$refs.calendar?a("v-toolbar-title",[e._v(" "+e._s(e.$refs.calendar.title)+" ")]):e._e()],1)],1),a("v-calendar",{ref:"calendar",attrs:{events:e.events,type:"month"},on:{"click:date":e.dateClicked},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),a("div",{staticClass:"mt-5"},[a("h4",[e._v("Tasks for "+e._s(e.humanDate))]),a("v-list",e._l(e.tasks,(function(t,r){return a("div",{key:t.id},[a("v-list-item",{on:{click:function(a){return e.toggleTask(t,r)}}},[a("v-list-item-action",[a("v-checkbox",{attrs:{color:"indigo"},model:{value:t.done,callback:function(a){e.$set(t,"done",a)},expression:"task.done"}})],1),a("v-list-item-content",[e._v(" "+e._s(t.title)+" ")])],1),a("v-divider")],1)})),0)],1)],1)},L=[],D=(a("ac1f"),a("1276"),a("b64b"),a("159b"),a("4de4"),a("d81d"),a("66ce"),{apiKey:"AIzaSyDqB8sJL3NUHDvFGQ6urUHUmd8YFyiZs_8",authDomain:"calendar-tasks-c99d3.firebaseapp.com",databaseURL:"https://calendar-tasks-c99d3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"calendar-tasks-c99d3",storageBucket:"calendar-tasks-c99d3.appspot.com",messagingSenderId:"174276448369",appId:"1:174276448369:web:5290ea048831d6147d4bd0"}),j=(s["a"].initializeApp(D),s["a"].database()),N={data:function(){return{focus:"",tasks:{},events:[],userId:null,currentDate:(new Date).toISOString().split("T")[0]}},computed:{humanDate:function(){return new Date("".concat(this.currentDate,"T00:00:00")).toLocaleString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}},mounted:function(){var e=this;this.$refs.calendar.checkChange(),s["a"].auth().onAuthStateChanged((function(t){t&&(e.userId=t.uid,e.$rtdbBind("events",j.ref("events").child(e.userId)),j.ref("tasks").child(e.userId).once("value",(function(t){e.tasks=t.val(),e.setCheckboxes(e.currentDate)})))}))},methods:{prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},dateClicked:function(e){var t=e.date;this.currentDate=t,this.setCheckboxes(t)},setCheckboxes:function(e){var t=this,a=this.getCompletedTasksForDate(e),r=Object.keys(this.tasks);r.forEach((function(e){var r=t.tasks[e];-1!=a.indexOf(e)?r.done=!0:r.done=!1}))},getCompletedTasksForDate:function(e){var t=this.events.filter((function(t){return t.start===e}));return t.map((function(e){return e.taskId}))},toggleTask:function(e,t){var a=this,r={name:e.title,start:this.currentDate,taskId:t,color:e.colour?e.colour:"blue"},n=this.events.filter((function(e){return e.start===a.currentDate&&e.taskId===t}));if(0===n.length)j.ref("events").child(this.userId).push(r);else if(n.length>1)console.error("Found more than one event!");else{var i=n[0][".key"];j.ref("events").child(this.userId).child(i).remove()}}}},R=N,P=a("a4f6"),$=a("ac7c"),q=a("ce7e"),B=a("8dd9"),U=a("71d9"),M=Object(c["a"])(R,A,L,!1,null,null,null),z=M.exports;d()(M,{VBtn:m["a"],VCalendar:P["a"],VCheckbox:$["a"],VDivider:q["a"],VIcon:g["a"],VList:k["a"],VListItem:b["a"],VListItemAction:w["a"],VListItemContent:V["a"],VSheet:B["a"],VToolbar:U["a"],VToolbarTitle:C["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5"},[a("v-list",e._l(e.tasks,(function(t){return a("div",{key:t.id},[a("v-list-item",[a("v-list-item-content",[e._v(" "+e._s(t.title)+" "),a("v-badge",{attrs:{inline:"",color:t.colour?t.colour:"black"}})],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.editTask(t)}}},[a("v-icon",{attrs:{color:"indigo lighten-1"}},[e._v("mdi-pencil")])],1)],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.deleteTask(t)}}},[a("v-icon",{attrs:{color:"indigo lighten-1"}},[e._v("mdi-delete")])],1)],1)],1),a("v-divider")],1)})),0),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-text-field",{attrs:{rules:e.nameRules,counter:20,label:"Name",required:"",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTask.apply(null,arguments)}},model:{value:e.taskName,callback:function(t){e.taskName=t},expression:"taskName"}})],1),a("v-row",[a("v-select",{attrs:{items:e.colours,label:"Colour"},model:{value:e.taskColour,callback:function(t){e.taskColour=t},expression:"taskColour"}})],1),a("v-row",[a("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:e.taskSubmit}},[e._v(" "+e._s(e.editing?"Update":"Add")+" Task ")]),e.editing?a("v-btn",{attrs:{color:"error"},on:{click:e.cancelEdit}},[e._v(" Cancel ")]):e._e()],1)],1)],1)],1)},H=[],Y={data:function(){return{tasks:[],colours:["red","pink","blue","teal","green","lime","orange","brown","yellow","purple"],valid:!1,editing:!1,editingTaskId:null,taskName:"",taskColour:"",userId:null,nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=20||"Name must be less than 20 characters"}]}},mounted:function(){var e=this;s["a"].auth().onAuthStateChanged((function(t){t&&(e.userId=t.uid,e.$rtdbBind("tasks",j.ref("tasks").child(e.userId)))}))},methods:{taskSubmit:function(){this.editing?this.updateTask():this.addTask()},addTask:function(){j.ref("tasks").child(this.userId).push({title:this.taskName,colour:this.taskColour,done:!1}),this.taskName="",this.taskColour=""},updateTask:function(){j.ref("tasks").child(this.userId).child(this.editingTaskId).update({title:this.taskName,colour:this.taskColour}),this.cancelEdit()},editTask:function(e){this.editing=!0,this.editingTaskId=e[".key"],this.taskName=e.title,this.taskColour=e.colour},cancelEdit:function(){this.editing=!1,this.editingTaskId=null,this.taskName="",this.taskColour=""},deleteTask:function(e){var t=window.confirm('Are you sure you want to delete task "'+e.title+'"?');if(t){var a=e[".key"];j.ref("tasks").child(this.userId).child(a).remove()}}}},G=Y,K=a("4ca6"),Q=a("a523"),W=a("4bd4"),Z=a("0fd9"),X=a("b974"),ee=a("8654"),te=Object(c["a"])(G,J,H,!1,null,null,null),ae=te.exports;d()(te,{VBadge:K["a"],VBtn:m["a"],VContainer:Q["a"],VDivider:q["a"],VForm:W["a"],VIcon:g["a"],VList:k["a"],VListItem:b["a"],VListItemAction:w["a"],VListItemContent:V["a"],VRow:Z["a"],VSelect:X["a"],VTextField:ee["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.loginFail,expression:"loginFail"}],attrs:{type:"error"}},[e._v(" Login failed! "+e._s(e.loginErrorMessage)+" ")]),a("v-layout",{attrs:{"align-center":"","justify-center":"","mt-14":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"indigo",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Login form")])],1),a("v-card-text",[a("v-form",{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email",name:"email",required:"","prepend-inner-icon":"mdi-face",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{rules:e.passwordRules,id:"password",label:"Password",name:"password",required:"","prepend-inner-icon":"mdi-lock",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginSubmit.apply(null,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{to:"/register"}},[e._v(" Click here to register ")]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"indigo",disabled:!e.isValid},on:{click:e.loginSubmit}},[e.loggingIn?a("v-progress-circular",{attrs:{indeterminate:"",size:20}}):a("span",[e._v("Login")])],1)],1)],1)],1)],1)],1)},ne=[],ie={data:function(){return{isValid:!0,loginFail:!1,loggingIn:!1,loginErrorMessage:"",email:"",password:"",emailRules:[function(e){return!!e||"Email is required"}],passwordRules:[function(e){return!!e||"Password is required"}]}},methods:{loginSubmit:function(){var e=this;this.loggingIn=!0,s["a"].auth().signInWithEmailAndPassword(this.email,this.password).then((function(){e.loginFail=!1,e.isValid=!0,e.$router.push("/")})).catch((function(t){e.loginFail=!0,e.password="",e.loggingIn=!1,e.loginErrorMessage=t.message,console.log(t.code+": "+t.message)}))}}},se=ie,oe=a("0798"),le=a("b0af"),ce=a("99d9"),ue=a("0e8f"),de=a("a722"),ve=a("490a"),pe=Object(c["a"])(se,re,ne,!1,null,null,null),fe=pe.exports;d()(pe,{VAlert:oe["a"],VBtn:m["a"],VCard:le["a"],VCardActions:ce["a"],VCardText:ce["b"],VFlex:ue["a"],VForm:W["a"],VLayout:de["a"],VProgressCircular:ve["a"],VSpacer:_["a"],VTextField:ee["a"],VToolbar:U["a"],VToolbarTitle:C["a"]});var me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.registerFail,expression:"registerFail"}],attrs:{type:"error"}},[e._v(" Registration failed! "+e._s(e.registerErrorMessage)+" ")]),a("v-layout",{attrs:{"align-center":"","justify-center":"","mt-14":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"indigo",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Register form (currently disabled)")])],1),a("v-card-text",[a("v-form",{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email",name:"email",required:"","prepend-inner-icon":"mdi-face",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{rules:e.passwordRules,id:"password",label:"Password",name:"password",required:"","prepend-inner-icon":"mdi-lock",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.registerSubmit.apply(null,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{to:"/login"}},[e._v(" Click here to login ")]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"indigo",disabled:"true"},on:{click:e.registerSubmit}},[e.registering?a("v-progress-circular",{attrs:{indeterminate:"",size:20}}):a("span",[e._v("Register")])],1)],1)],1)],1)],1)],1)},he=[],ge={data:function(){return{isValid:!0,registerFail:!1,registering:!1,registerErrorMessage:"",email:"",password:"",emailRules:[function(e){return!!e||"Email is required"}],passwordRules:[function(e){return!!e||"Password is required"}]}},methods:{registerSubmit:function(){return!1}}},ke=ge,be=Object(c["a"])(ke,me,he,!1,null,null,null),we=be.exports;d()(be,{VAlert:oe["a"],VBtn:m["a"],VCard:le["a"],VCardActions:ce["a"],VCardText:ce["b"],VFlex:ue["a"],VForm:W["a"],VLayout:de["a"],VProgressCircular:ve["a"],VSpacer:_["a"],VTextField:ee["a"],VToolbar:U["a"],VToolbarTitle:C["a"]}),r["a"].use(F["a"]);var Ve=[{path:"/",component:z,meta:{requiresAuth:!0}},{path:"/tasks",component:ae,meta:{requiresAuth:!0}},{path:"/login",component:fe},{path:"/register",component:we}],ye=new F["a"]({routes:Ve});ye.beforeEach(function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t,a,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.matched.some((function(e){return e.meta.requiresAuth})),n&&!s["a"].auth().currentUser?r("/login"):r();case 2:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}());var xe,_e=ye,Ce=a("0ff2");r["a"].use(Ce["a"]),r["a"].config.productionTip=!1,s["a"].auth().onAuthStateChanged((function(){xe||(xe=new r["a"]({vuetify:O,router:_e,render:function(e){return e(T)}}).$mount("#app"))}))},"5c0b":function(e,t,a){"use strict";a("9c0c")},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.378b7a27.js.map